"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{6507:(e,s,t)=>{t.d(s,{A:()=>p});var a=t(5155),l=t(2115),r=t(6874),n=t.n(r),i=t(5695),c=t(760),o=t(5645),d=t(6766);let x={src:"/_next/static/media/logo.745f13f6.png",height:780,width:780,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEX//v7//v7////////////////////2i5n4pbD3t7r7ztL97e/5qrf6v8f83+Dyg4ncw2C6AAAABnRSTlP98aCaoafwv+t7AAAACXBIWXMAABCcAAAQnAEmzTo0AAAAOElEQVR4nBXHxxHAMAzAMDqFklz33zYX/MArY+ADZETZcMWcp4MzakWJPfo4WzCzSkBza+PCv/cHPjIBn/j+9oMAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8};var m=t(351),h=t(3464);let u=e=>{let{isOpen:s,onClose:t,isMobile:r}=e,[n,i]=(0,l.useState)(null);(0,l.useEffect)(()=>{i(localStorage.getItem("guestUser"))},[]);let d=async()=>{try{var e,s,t,a;if(n){console.log("Guest user already exists:",n);return}let l=await h.A.get("https://api.ipify.org?format=json"),r=l.data.ip;console.log(l,"ipRes",r,"ipAddress");let c=await h.A.post("http://localhost:5002/api/createGuestUser",{IPAddress:r});console.log(null==c?void 0:c.data),localStorage.setItem("guestUser",null===(s=c.data)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.userName),i(null===(a=c.data)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.userName),console.log("Guest created:",c.data)}catch(e){console.error("Guest creation error:",e)}finally{}};return(0,a.jsx)(c.N,{children:s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50",onClick:t}),(0,a.jsxs)(o.P.div,{initial:r?{y:"100%"}:{scale:.9,opacity:0},animate:r?{y:0}:{scale:1,opacity:1},exit:r?{y:"100%"}:{scale:.9,opacity:0},className:"fixed ".concat(r?"bottom-0 left-0 right-0 rounded-2xl":"inset-0 m-auto max-w-md w-full h-fit rounded-2xl"," bg-white shadow-xl z-50 overflow-hidden"),onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Welcome to Apna City"}),(0,a.jsx)("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100",children:(0,a.jsx)(m.yGN,{className:"w-5 h-5"})})]}),n?(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"w-full py-3 px-4 bg-gray-100 rounded-lg text-gray-700 flex items-center justify-center hover:bg-gray-200 transition-colors mb-4",children:["Hi, ",n]})}):(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("button",{onClick:()=>{d(),t()},className:"w-full py-3 px-4 bg-gray-100 rounded-lg text-gray-700  hover:bg-gray-200 transition-colors mb-4",children:"Continue as Guest"}),(0,a.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"Other login options coming soon"})]})]})]})})};function p(){let e=(0,i.usePathname)(),[s,t]=(0,l.useState)(!1),[r,h]=(0,l.useState)(null),[p,g]=(0,l.useState)(!1),[f,j]=(0,l.useState)(!1),[b,y]=(0,l.useState)(null),[v,A]=(0,l.useState)(!1),[N,w]=(0,l.useState)(null),[C,S]=(0,l.useState)(""),[k,z]=(0,l.useState)(!1),[U,P]=(0,l.useState)(!1),[D,E]=(0,l.useState)(null),H=[{name:"Kanpur",available:!0},{name:"Delhi",available:!0},{name:"Mumbai",available:!1},{name:"Bangalore",available:!1},{name:"Hyderabad",available:!1},{name:"Chennai",available:!1},{name:"Kolkata",available:!1},{name:"Pune",available:!1}],B=[{name:"Home",href:"/",icon:(0,a.jsx)(m.V5Y,{size:18})},{name:"Offers",href:"/offers",icon:(0,a.jsx)(m.cnX,{size:18})},{name:"Creators",href:"/creators",icon:(0,a.jsx)(m.cfS,{size:18})},{name:"Contact Us",href:"/ContactUs",icon:(0,a.jsx)(m.QFc,{size:18})},{name:"About Us",href:"/AboutUs",icon:(0,a.jsx)(m.S8s,{size:18})}];(0,l.useEffect)(()=>{let e=()=>P(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{let e=localStorage.getItem("guestUser");e&&E(e);let s=localStorage.getItem("selectedCity");s?(h(s),w(null)):g(!0);let a=()=>{t(window.scrollY>100)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);let L=e=>{H.find(s=>s.name===e)&&(h(e),localStorage.setItem("selectedCity",e),g(!1))},I=()=>{g(!p),y(null)},M="Kanpur"===r;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"fixed w-full top-0 z-40 bg-white shadow-sm transition-all duration-300 ".concat(s?"shadow-md":"shadow-sm"),children:[(0,a.jsx)("div",{className:"border-b border-gray-100",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n(),{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)(d.default,{src:x,alt:"Logo",width:32,height:32}),(0,a.jsx)("span",{className:"text-lg font-semibold text-red-600",children:"Apna City"})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("button",{onClick:I,className:"flex items-center gap-1 text-gray-600 hover:text-red-600 text-sm px-3 py-1.5 rounded-full bg-gray-50",children:[(0,a.jsx)(m.HzC,{className:"text-red-500"}),(0,a.jsx)("span",{children:r||"Select City"}),(0,a.jsx)(m.fK4,{className:"transition-transform ".concat(p?"rotate-180":"")})]})}),N||D?(0,a.jsxs)("button",{onClick:()=>z(!0),className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 text-sm",children:[(0,a.jsx)(m.JXP,{className:"w-4 h-4"}),N?(0,a.jsx)("span",{children:N.name.split(" ")[0]}):(0,a.jsx)("span",{children:D})]}):(0,a.jsxs)("button",{onClick:()=>z(!0),className:"flex items-center space-x-1 text-gray-600 hover:text-red-600 text-sm",children:[(0,a.jsx)(m.JXP,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Login"})]})]}),(0,a.jsxs)("div",{className:"md:hidden flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>A(!v),className:"p-2 text-gray-600",children:(0,a.jsx)(m.CKj,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:I,className:"p-2 text-gray-600",children:(0,a.jsx)(m.HzC,{className:"w-5 h-5"})}),N?(0,a.jsx)("button",{onClick:()=>z(!0),className:"flex items-center text-gray-600",children:(0,a.jsxs)("span",{className:"text-sm",children:["Hi, ",N.name.split(" ")[0]]})}):(0,a.jsx)("button",{onClick:()=>z(!0),className:"text-gray-600",children:(0,a.jsx)(m.JXP,{className:"w-5 h-5"})})]})]}),v&&(0,a.jsx)("div",{className:"mt-3 md:hidden",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search...",className:"w-full px-4 py-2 border border-gray-200 rounded-full focus:outline-none focus:ring-1 focus:ring-red-500 text-sm",value:C,onChange:e=>S(e.target.value)}),(0,a.jsx)(m.CKj,{className:"absolute right-3 top-2.5 text-gray-400"})]})})]})}),M&&(0,a.jsx)("div",{className:"border-b border-gray-100 overflow-x-auto no-scrollbar",children:(0,a.jsx)("div",{className:"container mx-auto px-2",children:(0,a.jsx)("nav",{className:"flex items-center space-x-2 py-3 whitespace-nowrap",children:B.map(s=>{let t=e===s.href;return(0,a.jsxs)(n(),{href:s.href,className:"group flex items-center gap-1 py-2 px-3 text-sm transition-colors border-b-2 ".concat(t?"border-red-600 text-red-600":"border-transparent text-gray-600 hover:text-red-600"),children:[(0,a.jsx)("span",{className:"transition-colors ".concat(t?"text-red-600":"text-gray-600 group-hover:text-red-600"),children:s.icon}),s.name]},s.name)})})})}),(0,a.jsx)(c.N,{children:p&&(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 right-0 bg-white shadow-lg rounded-b-lg z-50 border border-gray-200 px-4 py-3",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("button",{onClick:()=>{if(j(!0),y(null),!navigator.geolocation){y("Geolocation is not supported by your browser"),j(!1);return}navigator.geolocation.getCurrentPosition(async e=>{try{var s,t;let{latitude:a,longitude:l}=e.coords,r=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(a,"&lon=").concat(l)),n=await r.json(),i=(null===(s=n.address)||void 0===s?void 0:s.city)||(null===(t=n.address)||void 0===t?void 0:t.town);if(i){let e=H.find(e=>e.name.toLowerCase()===i.toLowerCase());e?L(e.name):y("We&apos;ll soon come to ".concat(i,"! Currently only available in Kanpur."))}else y("Could not determine your city")}catch(e){console.log(e),y("Error fetching location data")}finally{j(!1)}},()=>{y("Unable to retrieve your location"),j(!1)})},disabled:f,className:"w-full flex items-center justify-center gap-2 py-2 rounded-lg text-sm text-gray-700 hover:bg-gray-50",children:f?"Detecting your location...":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.HzC,{className:"text-red-600"}),(0,a.jsx)("span",{className:"text-red-600",children:"Detect My Location"})]})}),b&&(0,a.jsx)("p",{className:"mt-2 text-sm text-red-500 text-center",children:b})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Available Cities"}),H.filter(e=>e.available).map(e=>(0,a.jsx)("button",{onClick:()=>L(e.name),className:"w-full text-left px-4 py-2 hover:bg-red-50 text-sm rounded-md flex justify-between items-center",children:e.name},e.name)),(0,a.jsx)("p",{className:"text-xs text-gray-500 uppercase tracking-wider mt-3",children:"Coming Soon"}),H.filter(e=>!e.available).map(e=>(0,a.jsxs)("button",{disabled:!0,className:"w-full text-left px-4 py-2 text-sm rounded-md flex justify-between items-center opacity-60 cursor-not-allowed",children:[e.name,(0,a.jsx)("span",{className:"text-xs bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded",children:"Soon"})]},e.name))]})]})})]}),(0,a.jsx)(u,{isOpen:k,onClose:()=>z(!1),isMobile:U}),r&&!M&&(0,a.jsx)("div",{className:"fixed inset-0 bg-white bg-opacity-90 z-30 flex flex-col items-center justify-center p-6 text-center mt-16",children:(0,a.jsxs)("div",{className:"max-w-md",children:[(0,a.jsx)(m.HzC,{className:"mx-auto text-red-500 text-4xl mb-4"}),(0,a.jsxs)("h2",{className:"text-2xl font-medium mb-4",children:["Coming Soon to ",r,"!"]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"We're currently only available in Kanpur. We'll be expanding to your city soon!"}),(0,a.jsx)("button",{onClick:()=>{localStorage.removeItem("selectedCity"),h(null),g(!0)},className:"px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors",children:"Change City"})]})}),(0,a.jsx)("div",{className:"pt-28 md:pt-24"})]})}},7109:(e,s,t)=>{t.d(s,{A:()=>d});var a=t(5155),l=t(5645);let r={src:"/_next/static/media/logob.06a7d7be.png",height:81,width:80,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAIVBMVEXpNVvxPFXtOkzpOkTuOkjwO1HsPUXuO1H2PF3qOUPuO0SUWCZcAAAAC3RSTlMBbmFLiXknnJyzHtRt2QwAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAAySURBVHicRclJDsAwDMNASvGS9v8PLuxLdeEAgn/qPtsrP6ObTsVAfj1QV+1FhLeQBXwUBACXMtPQWwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};var n=t(6766),i=t(351),c=t(6874),o=t.n(c);function d(){return(0,a.jsx)("footer",{className:"w-full flex justify-center",children:(0,a.jsx)("div",{className:"w-full pp:px-5 px-3",children:(0,a.jsxs)("div",{className:"w-full bg-[#FAE8EC] rounded-xl p-6 sm:p-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-[#0D0D0D] font-semibold text-lg mb-4",children:"Quick Links"}),(0,a.jsx)("ul",{className:"space-y-3",children:[{label:"Offers",icon:(0,a.jsx)(i.cnX,{})},{label:"Creators",icon:(0,a.jsx)(i.cfS,{})},{label:"Places",icon:(0,a.jsx)(i.HzC,{})},{label:"Events",icon:(0,a.jsx)(i.wIk,{})},{label:"Promote Your Business",icon:(0,a.jsx)(i.ARf,{})},{label:"About Us",icon:(0,a.jsx)(i.S8s,{})}].map(e=>{let{label:s,icon:t}=e,r="Promote Your Business"===s?"/membership":"Creators"===s?"/creators":"About Us"===s?"/AboutUs":"Offers"===s?"/offers":"/under-construction";return(0,a.jsx)(l.P.li,{whileHover:{x:5},transition:{type:"spring",stiffness:300},children:(0,a.jsxs)(o(),{href:r,className:"text-gray-600 hover:text-red-600 transition-colors flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-red-400",children:t}),s]})},s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-[#0D0D0D] font-semibold text-lg mb-4 ",children:"Contact Us"}),(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"p-2 text-red-600 mr-3",children:(0,a.jsx)(i.pHD,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Email"}),(0,a.jsx)("a",{href:"mailto:support@apnacity.in",className:"text-gray-700 hover:text-red-600 transition-colors",children:"support@apnacity.in"})]})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"p-2 text-red-600 mr-3",children:(0,a.jsx)(i.QFc,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Phone"}),(0,a.jsx)("a",{href:"tel:+916306760227",className:"text-gray-700 hover:text-red-600 transition-colors",children:"+91 6306 760 227"})]})]}),(0,a.jsx)("li",{className:"flex items-start",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 text-red-600 mr-3",children:(0,a.jsx)(i.HzC,{className:"w-5 h-5"})}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-gray-700",children:"Kanpur, India"})})]})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-[#0D0D0D] font-semibold text-lg mb-4",children:"Newsletter"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Subscribe to get updates on exciting offers"}),(0,a.jsxs)("form",{className:"flex sm:flex-row flex-col gap-2 custom-email-form",children:[(0,a.jsx)("input",{type:"email",placeholder:"Your email",className:"flex-grow px-4 py-2 rounded-lg border bg-white border-white focus:outline-none focus:ring-2 focus:ring-red-300 focus:border-transparent email-input",required:!0}),(0,a.jsx)("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors email-button",children:"Subscribe"})]}),(0,a.jsx)("h4",{className:"text-[#0D0D0D] font-semibold text-lg mt-6 mb-3",children:"Follow Us"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-3",children:[{icon:(0,a.jsx)(i.spH,{}),name:"Facebook"},{icon:(0,a.jsx)(i.TC4,{}),name:"Twitter"},{icon:(0,a.jsx)(i.eCe,{}),name:"Instagram"},{icon:(0,a.jsx)(i.Wjy,{}),name:"LinkedIn"}].map((e,s)=>(0,a.jsx)(l.P.a,{href:"https://www.instagram.com/apnacity.in/",whileHover:{y:-3},whileTap:{scale:.9},className:"bg-red-100 text-red-600 hover:bg-red-600 hover:text-white p-3 rounded-full transition-colors","aria-label":e.name,children:e.icon},s))})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 mt-8 pt-6 flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center ",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:(0,a.jsx)(n.default,{src:r,alt:"Apna City Logo",className:"w-8 h-8 object-contain"})}),(0,a.jsx)("span",{className:"text-xl text-red-600 font-semibold",children:"Apna City"})]}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm text-center md:text-left",children:["\xa9 ",new Date().getFullYear()," Apna City. All rights reserved."]})]})]})})})}}}]);