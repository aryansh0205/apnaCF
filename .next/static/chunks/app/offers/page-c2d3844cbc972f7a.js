(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[928],{2501:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),r=t(5645),l=t(760),i=t(351),n=t(9911),d=t(6507),o=t(7109),c=t(2115),x=t(3464),m=t(6766),g=t(2881);let h=e=>{let{rating:s}=e,t=Math.floor(s),r=s%1>=.5;return(0,a.jsxs)("div",{className:"flex items-center",children:[[...Array(t)].map((e,s)=>(0,a.jsx)(n.gt3,{className:"text-yellow-400 text-sm"},"full-".concat(s))),r&&(0,a.jsx)(n.gVl,{className:"text-yellow-400 text-sm"}),[...Array(5-t-+!!r)].map((e,s)=>(0,a.jsx)(n.wei,{className:"text-yellow-400 text-sm"},"empty-".concat(s))),(0,a.jsx)("span",{className:"ml-1 text-gray-700 text-sm",children:s.toFixed(1)})]})};function f(){let[e,s]=(0,c.useState)([]),[t,n]=(0,c.useState)(!0),[f,u]=(0,c.useState)(""),[p,b]=(0,c.useState)("All"),[y,j]=(0,c.useState)("all"),[N,v]=(0,c.useState)(""),[w,C]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{n(!0);let e=await x.A.get("".concat(g.nC,"/offers"));s(e.data.offers||[])}catch(e){console.error("Error fetching offers:",e),s([{_id:"1",offerName:"Weekend Brunch Special",businessName:"Cafe Mocha",category:"Food & Dining",discount:"20% OFF",offerDescription:"Enjoy our signature pancakes with maple syrup and fresh fruits",validity:"Valid until 30 June 2023",rating:4.5,distance:"0.5 km",offerImage:"/offer1.png",isOnline:!1,address:"123 Main Street, Kanpur"},{_id:"2",offerName:"Online Shopping Discount",businessName:"Urban Styles",category:"Retail",discount:"15% OFF",offerDescription:"Use code LOCAL15 for online purchases",validity:"Valid until 31 July 2023",rating:4.2,distance:"2.1 km",offerImage:"/offer2.png",isOnline:!0,website:"https://urbanstyles.example.com"}])}finally{n(!1)}})()},[]);let k=e.filter(e=>{let s=e.offerName.toLowerCase().includes(f.toLowerCase())||e.businessName.toLowerCase().includes(f.toLowerCase()),t="All"===p||e.category===p,a="all"===y||"online"===y&&e.isOnline||"offline"===y&&!e.isOnline,r=!N||e.distance.includes(N);return s&&t&&a&&r}),O=()=>{u(""),b("All"),j("all"),v("")},A=e=>{let s="https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e));window.open(s,"_blank")};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(d.A,{}),(0,a.jsx)("div",{className:"relative pt-28 md:pt-36 pb-16 overflow-hidden bg-gradient-to-r from-red-50 to-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(r.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-gray-900 sm:text-5xl",children:"Local Deals & Offers"}),(0,a.jsx)(r.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-4 text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover exclusive discounts from businesses near you"})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,a.jsx)("button",{onClick:()=>j("all"),className:"px-4 py-2 font-medium text-sm ".concat("all"===y?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"),children:"All Offers"}),(0,a.jsxs)("button",{onClick:()=>j("online"),className:"px-4 py-2 font-medium text-sm flex items-center ".concat("online"===y?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(i.VeH,{className:"mr-2"})," Online Offers"]}),(0,a.jsxs)("button",{onClick:()=>j("offline"),className:"px-4 py-2 font-medium text-sm flex items-center ".concat("offline"===y?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(i.HzC,{className:"mr-2"})," Nearby Offline"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search offers...",className:"w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",value:f,onChange:e=>u(e.target.value)}),f&&(0,a.jsx)("button",{onClick:()=>u(""),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(i.yGN,{size:18})})]}),(0,a.jsx)("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500 focus:border-red-500",value:p,onChange:e=>b(e.target.value),children:["All","Food & Dining","Retail","Services","Entertainment","Wellness","Education"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Enter pincode",className:"w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",value:N,onChange:e=>v(e.target.value),maxLength:6}),N&&(0,a.jsx)("button",{onClick:()=>v(""),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(i.yGN,{size:18})})]})]}),(f||"All"!==p||"all"!==y||N)&&(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)("button",{onClick:O,className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Reset all filters"})})]}),(0,a.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[k.length>0?"Showing ".concat(k.length," ").concat("all"!==y?y:""," offers"):"No offers match your criteria",N&&" near ".concat(N)]})]}),(0,a.jsx)("div",{className:"py-6 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:t?(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 h-full animate-pulse",children:[(0,a.jsx)("div",{className:"h-48 bg-gray-200"}),(0,a.jsxs)("div",{className:"p-5 space-y-3",children:[(0,a.jsx)("div",{className:"h-5 bg-gray-200 rounded w-3/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"}),(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded w-full mt-4"})]})]},s))}):0===k.length?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===e.length?"No offers available today":"No offers match your filters"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:0===e.length?"Check back later for new offers from local businesses.":"Try adjusting your search criteria or reset filters."}),e.length>0&&(0,a.jsx)("button",{onClick:O,className:"text-red-600 hover:text-red-800 font-medium px-4 py-2 rounded-lg border border-red-200 hover:bg-red-50",children:"Reset all filters"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>(0,a.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-5},className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition-all duration-200",children:[(0,a.jsxs)("div",{className:"relative h-48 w-full",children:[(0,a.jsx)(m.default,{src:e.offerImage||"/placeholder.jpg",alt:e.offerName,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 50vw"}),(0,a.jsx)("div",{className:"absolute top-3 right-3 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded",children:e.discount}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:e.offerName}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(i.HzC,{className:"mr-1"}),(0,a.jsx)("span",{children:e.distance})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.businessName}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(h,{rating:e.rating}),(0,a.jsx)("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:e.category})]}),(0,a.jsx)("p",{className:"text-gray-700 text-sm line-clamp-2 mb-4",children:e.offerDescription||"Details will be added soon."}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[(0,a.jsx)(i.Ohp,{className:"mr-2"}),(0,a.jsx)("span",{children:e.validity})]}),e.isOnline?(0,a.jsxs)("a",{href:e.website||"#",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors text-center",children:[(0,a.jsx)(i.VeH,{className:"inline mr-2"})," Visit Website"]}):(0,a.jsxs)("button",{onClick:()=>e.address&&A(e.address),className:"w-full bg-red-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors flex items-center justify-center",disabled:!e.address,children:[(0,a.jsx)(i.ECz,{className:"mr-2"})," Get Directions"]})]})]},e._id))})}),(0,a.jsx)(l.N,{children:w&&(0,a.jsx)(r.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>C(null),children:(0,a.jsxs)(r.P.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"relative h-56 w-full",children:[(0,a.jsx)(m.default,{src:w.offerImage||"/placeholder.jpg",alt:w.offerName,fill:!0,className:"object-cover",sizes:"100vw"}),(0,a.jsx)("div",{className:"absolute top-3 right-3 bg-red-600 text-white text-sm font-bold px-3 py-1 rounded",children:w.discount})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:w.offerName}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:w.businessName}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)(h,{rating:w.rating}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,a.jsx)(i.HzC,{className:"mr-1"}),(0,a.jsx)("span",{children:w.distance})]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Category:"}),(0,a.jsx)("p",{className:"mt-1 text-gray-700",children:w.category})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Valid Until:"}),(0,a.jsx)("p",{className:"mt-1 text-gray-700",children:w.validity})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Description:"}),(0,a.jsx)("p",{className:"mt-1 text-gray-700",children:w.offerDescription||"Details will be added soon."})]}),w.isOnline&&w.website&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Website:"}),(0,a.jsx)("p",{className:"mt-1 text-blue-600 break-all",children:(0,a.jsx)("a",{href:w.website,target:"_blank",rel:"noopener noreferrer",children:w.website})})]}),!w.isOnline&&w.address&&(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{className:"text-gray-900",children:"Address:"}),(0,a.jsx)("p",{className:"mt-1 text-gray-700",children:w.address})]})]}),w.isOnline?(0,a.jsxs)("a",{href:w.website||"#",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors text-center mb-3",children:[(0,a.jsx)(i.VeH,{className:"inline mr-2"})," Visit Website"]}):(0,a.jsxs)("button",{onClick:()=>w.address&&A(w.address),className:"w-full bg-red-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors flex items-center justify-center mb-3",disabled:!w.address,children:[(0,a.jsx)(i.ECz,{className:"mr-2"})," Get Directions"]}),(0,a.jsx)("button",{className:"w-full bg-gray-200 text-gray-800 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors",onClick:()=>C(null),children:"Close"})]})]})})}),(0,a.jsx)(o.A,{})]})}},2881:(e,s,t)=>{"use strict";t.d(s,{nC:()=>a}),t(8260);let a="https://144.202.117.80:4005/api"},8157:(e,s,t)=>{Promise.resolve().then(t.bind(t,2501))}},e=>{var s=s=>e(e.s=s);e.O(0,[844,711,296,790,347,415,441,684,358],()=>s(8157)),_N_E=e.O()}]);