(()=>{var e={};e.id=928,e.ids=[928],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},45106:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=t(65239),a=t(48088),i=t(88170),l=t.n(i),n=t(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d={children:["",{children:["offers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,91467)),"C:\\Users\\victus\\Desktop\\apna city\\ApnaCity copy\\app\\offers\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\victus\\Desktop\\apna city\\ApnaCity copy\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\victus\\Desktop\\apna city\\ApnaCity copy\\app\\offers\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/offers/page",pathname:"/offers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},47139:(e,s,t)=>{Promise.resolve().then(t.bind(t,62001))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},62001:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(60687),a=t(54604),i=t(88920),l=t(17019),n=t(69587),o=t(64184),d=t(22e3),c=t(43210);t(51060);var x=t(30474);t(76603);let m=({rating:e})=>{let s=Math.floor(e),t=e%1>=.5;return(0,r.jsxs)("div",{className:"flex items-center",children:[[...Array(s)].map((e,s)=>(0,r.jsx)(n.gt3,{className:"text-yellow-400 text-sm"},`full-${s}`)),t&&(0,r.jsx)(n.gVl,{className:"text-yellow-400 text-sm"}),[...Array(5-s-+!!t)].map((e,s)=>(0,r.jsx)(n.wei,{className:"text-yellow-400 text-sm"},`empty-${s}`)),(0,r.jsx)("span",{className:"ml-1 text-gray-700 text-sm",children:e.toFixed(1)})]})};function p(){let[e,s]=(0,c.useState)([]),[t,n]=(0,c.useState)(!0),[p,u]=(0,c.useState)(""),[h,g]=(0,c.useState)("All"),[f,b]=(0,c.useState)("all"),[y,j]=(0,c.useState)(""),[v,N]=(0,c.useState)(null),w=e.filter(e=>{let s=e.offerName.toLowerCase().includes(p.toLowerCase())||e.businessName.toLowerCase().includes(p.toLowerCase()),t="All"===h||e.category===h,r="all"===f||"online"===f&&e.isOnline||"offline"===f&&!e.isOnline,a=!y||e.distance.includes(y);return s&&t&&r&&a}),C=()=>{u(""),g("All"),b("all"),j("")},k=e=>{let s=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e)}`;window.open(s,"_blank")};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{className:"relative pt-28 md:pt-36 pb-16 overflow-hidden bg-gradient-to-r from-red-50 to-white",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(a.P.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-4xl font-bold text-gray-900 sm:text-5xl",children:"Local Deals & Offers"}),(0,r.jsx)(a.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-4 text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover exclusive discounts from businesses near you"})]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex border-b border-gray-200",children:[(0,r.jsx)("button",{onClick:()=>b("all"),className:`px-4 py-2 font-medium text-sm ${"all"===f?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:"All Offers"}),(0,r.jsxs)("button",{onClick:()=>b("online"),className:`px-4 py-2 font-medium text-sm flex items-center ${"online"===f?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:[(0,r.jsx)(l.VeH,{className:"mr-2"})," Online Offers"]}),(0,r.jsxs)("button",{onClick:()=>b("offline"),className:`px-4 py-2 font-medium text-sm flex items-center ${"offline"===f?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:[(0,r.jsx)(l.HzC,{className:"mr-2"})," Nearby Offline"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search offers...",className:"w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",value:p,onChange:e=>u(e.target.value)}),p&&(0,r.jsx)("button",{onClick:()=>u(""),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(l.yGN,{size:18})})]}),(0,r.jsx)("select",{className:"border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-red-500 focus:border-red-500",value:h,onChange:e=>g(e.target.value),children:["All","Food & Dining","Retail","Services","Entertainment","Wellness","Education"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Enter pincode",className:"w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500",value:y,onChange:e=>j(e.target.value),maxLength:6}),y&&(0,r.jsx)("button",{onClick:()=>j(""),className:"absolute right-3 top-2.5 text-gray-500 hover:text-gray-700",children:(0,r.jsx)(l.yGN,{size:18})})]})]}),(p||"All"!==h||"all"!==f||y)&&(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)("button",{onClick:C,className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Reset all filters"})})]}),(0,r.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[w.length>0?`Showing ${w.length} ${"all"!==f?f:""} offers`:"No offers match your criteria",y&&` near ${y}`]})]}),(0,r.jsx)("div",{className:"py-6 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:t?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 h-full animate-pulse",children:[(0,r.jsx)("div",{className:"h-48 bg-gray-200"}),(0,r.jsxs)("div",{className:"p-5 space-y-3",children:[(0,r.jsx)("div",{className:"h-5 bg-gray-200 rounded w-3/4"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"}),(0,r.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full"}),(0,r.jsx)("div",{className:"h-10 bg-gray-200 rounded w-full mt-4"})]})]},s))}):0===w.length?(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===e.length?"No offers available today":"No offers match your filters"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4",children:0===e.length?"Check back later for new offers from local businesses.":"Try adjusting your search criteria or reset filters."}),e.length>0&&(0,r.jsx)("button",{onClick:C,className:"text-red-600 hover:text-red-800 font-medium px-4 py-2 rounded-lg border border-red-200 hover:bg-red-50",children:"Reset all filters"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(e=>(0,r.jsxs)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{y:-5},className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-200 hover:shadow-lg transition-all duration-200",children:[(0,r.jsxs)("div",{className:"relative h-48 w-full",children:[(0,r.jsx)(x.default,{src:e.offerImage||"/placeholder.jpg",alt:e.offerName,fill:!0,className:"object-cover",sizes:"(max-width: 768px) 100vw, 50vw"}),(0,r.jsx)("div",{className:"absolute top-3 right-3 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded",children:e.discount}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),(0,r.jsxs)("div",{className:"p-5",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:e.offerName}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)(l.HzC,{className:"mr-1"}),(0,r.jsx)("span",{children:e.distance})]})]}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.businessName}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)(m,{rating:e.rating}),(0,r.jsx)("span",{className:"text-xs bg-gray-100 text-gray-800 px-2 py-1 rounded",children:e.category})]}),(0,r.jsx)("p",{className:"text-gray-700 text-sm line-clamp-2 mb-4",children:e.offerDescription||"Details will be added soon."}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mb-4",children:[(0,r.jsx)(l.Ohp,{className:"mr-2"}),(0,r.jsx)("span",{children:e.validity})]}),e.isOnline?(0,r.jsxs)("a",{href:e.website||"#",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors text-center",children:[(0,r.jsx)(l.VeH,{className:"inline mr-2"})," Visit Website"]}):(0,r.jsxs)("button",{onClick:()=>e.address&&k(e.address),className:"w-full bg-red-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors flex items-center justify-center",disabled:!e.address,children:[(0,r.jsx)(l.ECz,{className:"mr-2"})," Get Directions"]})]})]},e._id))})}),(0,r.jsx)(i.N,{children:v&&(0,r.jsx)(a.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>N(null),children:(0,r.jsxs)(a.P.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:"relative h-56 w-full",children:[(0,r.jsx)(x.default,{src:v.offerImage||"/placeholder.jpg",alt:v.offerName,fill:!0,className:"object-cover",sizes:"100vw"}),(0,r.jsx)("div",{className:"absolute top-3 right-3 bg-red-600 text-white text-sm font-bold px-3 py-1 rounded",children:v.discount})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:v.offerName}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:v.businessName}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)(m,{rating:v.rating}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,r.jsx)(l.HzC,{className:"mr-1"}),(0,r.jsx)("span",{children:v.distance})]})]}),(0,r.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-gray-900",children:"Category:"}),(0,r.jsx)("p",{className:"mt-1 text-gray-700",children:v.category})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-gray-900",children:"Valid Until:"}),(0,r.jsx)("p",{className:"mt-1 text-gray-700",children:v.validity})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-gray-900",children:"Description:"}),(0,r.jsx)("p",{className:"mt-1 text-gray-700",children:v.offerDescription||"Details will be added soon."})]}),v.isOnline&&v.website&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-gray-900",children:"Website:"}),(0,r.jsx)("p",{className:"mt-1 text-blue-600 break-all",children:(0,r.jsx)("a",{href:v.website,target:"_blank",rel:"noopener noreferrer",children:v.website})})]}),!v.isOnline&&v.address&&(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{className:"text-gray-900",children:"Address:"}),(0,r.jsx)("p",{className:"mt-1 text-gray-700",children:v.address})]})]}),v.isOnline?(0,r.jsxs)("a",{href:v.website||"#",target:"_blank",rel:"noopener noreferrer",className:"block w-full bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors text-center mb-3",children:[(0,r.jsx)(l.VeH,{className:"inline mr-2"})," Visit Website"]}):(0,r.jsxs)("button",{onClick:()=>v.address&&k(v.address),className:"w-full bg-red-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors flex items-center justify-center mb-3",disabled:!v.address,children:[(0,r.jsx)(l.ECz,{className:"mr-2"})," Get Directions"]}),(0,r.jsx)("button",{className:"w-full bg-gray-200 text-gray-800 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors",onClick:()=>N(null),children:"Close"})]})]})})}),(0,r.jsx)(d.A,{})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},76603:(e,s,t)=>{"use strict";t.d(s,{nC:()=>r}),t(37590);let r="https://144.202.117.80:4005/api"},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},87467:(e,s,t)=>{Promise.resolve().then(t.bind(t,91467))},91467:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\victus\\\\Desktop\\\\apna city\\\\ApnaCity copy\\\\app\\\\offers\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\victus\\Desktop\\apna city\\ApnaCity copy\\app\\offers\\page.tsx","default")},94735:e=>{"use strict";e.exports=require("events")}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[447,825,831,6,587,333,102],()=>t(45106));module.exports=r})();